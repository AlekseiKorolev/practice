(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);a(64),a(89);var n=a(0),l=a.n(n),r=a(40),s=a.n(r),o=a(25),c=a.n(o),i=a(30),u=a(19),d=a(20),h=a(22),m=a(21),p=a(6),E=a(23),f=a(1),g=(a(112),function(e){var t=e.id,a=e.go,n=e.fetchedUser,r=e.userData;return l.a.createElement(f.Panel,{id:t},l.a.createElement(f.PanelHeader,null,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),n&&l.a.createElement(f.Group,{title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"},l.a.createElement(f.ListItem,{before:n.photo_200?l.a.createElement(f.Avatar,{src:n.photo_200}):null,description:n.city&&n.city.title?n.city.title:""},"".concat(n.first_name," ").concat(n.last_name))),l.a.createElement(f.Group,{title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0438\u0433\u0440\u043e\u043a\u0430"},l.a.createElement(f.Div,null,"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0432\u0438\u0434 \u0441\u043f\u043e\u0440\u0442\u0430 ",l.a.createElement("b",null,r.type),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(f.Button,{size:"xl",level:"2",onClick:a,"data-to":"sports"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0438\u0434 \u0441\u043f\u043e\u0440\u0442\u0430"),l.a.createElement("br",null),l.a.createElement(f.Button,{size:"xl",level:"2",onClick:a,"data-to":"search"},"\u041f\u043e\u0438\u0441\u043a"))))}),v=(a(113),a(9)),k=a.n(v),S=a(8),b=a.n(S),y=Object(f.platform)(),D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).changeState=a.changeState.bind(Object(p.a)(a)),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"changeState",value:function(e){this.props.addNewData(e.target.name,e.target.value)}},{key:"render",value:function(){return l.a.createElement(f.Panel,{id:this.props.id},l.a.createElement(f.PanelHeader,{left:l.a.createElement(f.HeaderButton,{onClick:this.props.go,"data-to":"sports"},y===f.IOS?l.a.createElement(k.a,null):l.a.createElement(b.a,null))},"\u0424\u0443\u0442\u0431\u043e\u043b"),l.a.createElement(f.Group,{title:"\u0424\u043e\u0440\u043c\u0430\u0442",style:{padding:"0px 2rem"}},l.a.createElement("div",null,l.a.createElement(f.Radio,{name:"format",value:"11",defaultChecked:"11"===this.props.userData.format,onChange:this.changeState},"11 x 11"),l.a.createElement(f.Radio,{name:"format",value:"8",defaultChecked:"8"===this.props.userData.format,onChange:this.changeState},"8 x 8"),l.a.createElement(f.Radio,{name:"format",value:"6",defaultChecked:"6"===this.props.userData.format,onChange:this.changeState},"6 x 6"))),l.a.createElement(f.Group,{title:"\u0410\u043c\u043f\u043b\u0443\u0430",style:{padding:"0px 2rem"}},l.a.createElement("div",null,l.a.createElement(f.Radio,{name:"role",value:"goalkeeper",defaultChecked:"goalkeeper"===this.props.userData.role,onChange:this.changeState},"\u0412\u0440\u0430\u0442\u0430\u0440\u044c"),l.a.createElement(f.Radio,{name:"role",value:"defender",defaultChecked:"defender"===this.props.userData.role,onChange:this.changeState},"\u0417\u0430\u0449\u0438\u0442\u043d\u0438\u043a"),l.a.createElement(f.Radio,{name:"role",value:"semi-defender",defaultChecked:"semi-defender"===this.props.userData.role,onChange:this.changeState},"\u041f\u043e\u043b\u0443\u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a"),l.a.createElement(f.Radio,{name:"role",value:"forward",defaultChecked:"forward"===this.props.userData.role,onChange:this.changeState},"\u041d\u0430\u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0439"))),l.a.createElement(f.Group,{title:"\u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0438\u0442\u0430\u0435\u043c\u0430\u044f \u0441\u0442\u043e\u0440\u043e\u043d\u0430",style:{padding:"0px 2rem"}},l.a.createElement(f.Radio,{name:"side",value:"right",defaultChecked:"right"===this.props.userData.side,onChange:this.changeState},"\u041f\u0440\u0430\u0432\u043e"),l.a.createElement(f.Radio,{name:"side",value:"left",defaultChecked:"left"===this.props.userData.side,onChange:this.changeState},"\u041b\u0435\u0432\u043e"),l.a.createElement(f.Radio,{name:"side",value:"center",defaultChecked:"center"===this.props.userData.side,onChange:this.changeState},"\u0426\u0435\u043d\u0442\u0440")),l.a.createElement(f.Div,{style:{padding:"0px 2rem"}},l.a.createElement(f.Select,{name:"skill",top:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u043e",placeholder:"\u043c\u043e\u0433\u0443 \u0432\u0441\u0451",defaultValue:this.props.userData.skill,onChange:this.changeState},l.a.createElement("option",{value:"speed"},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"),l.a.createElement("option",{value:"phisics"},"\u0424\u0438\u0437\u0438\u043a\u0430"),l.a.createElement("option",{value:"skill"},"\u0422\u0435\u0445\u043d\u0438\u043a\u0430"),l.a.createElement("option",{value:"pass"},"\u041f\u0430\u0441"),l.a.createElement("option",{value:"power"},"\u0423\u0434\u0430\u0440"))),l.a.createElement(f.Group,{style:{padding:"0px 2rem"}},l.a.createElement(f.Cell,{asideContent:l.a.createElement(f.Switch,{name:"active",defaultChecked:this.props.userData.active,onChange:this.changeState})},"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b")))}}]),t}(l.a.Component),C=(a(114),Object(f.platform)()),O=function(e){return l.a.createElement(f.Panel,{id:e.id},l.a.createElement(f.PanelHeader,{left:l.a.createElement(f.HeaderButton,{onClick:e.go,"data-to":"sports"},C===f.IOS?l.a.createElement(k.a,null):l.a.createElement(b.a,null))},"\u0425\u043e\u043a\u043a\u0435\u0439"),l.a.createElement(f.Div,{style:{textAlign:"center"}},"\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"))},w=Object(f.platform)(),j=function(e){return l.a.createElement(f.Panel,{id:e.id},l.a.createElement(f.PanelHeader,{left:l.a.createElement(f.HeaderButton,{onClick:e.go,"data-to":"home"},w===f.IOS?l.a.createElement(k.a,null):l.a.createElement(b.a,null))},"\u0412\u044b\u0431\u043e\u0440 \u0432\u0438\u0434\u0430 \u0441\u043f\u043e\u0440\u0442\u0430"),l.a.createElement(f.Group,{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0441\u043f\u043e\u0440\u0442\u0430"},l.a.createElement(f.Div,null,l.a.createElement(f.Button,{size:"xl",level:"2",onClick:e.go,"data-to":"football"},"\u0424\u0443\u0442\u0431\u043e\u043b"),l.a.createElement("br",null),l.a.createElement(f.Button,{size:"xl",level:"2",onClick:e.go,"data-to":"hockey"},"\u0425\u043e\u043a\u043a\u0435\u0439"))))},R=Object(f.platform)(),U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={side:"",role:"",format:"",skill:"",searchResult:"\u0417\u0434\u0435\u0441\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0441\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u043e\u0438\u0441\u043a\u0430"},a.changeState=a.changeState.bind(Object(p.a)(a)),a.startSearch=a.startSearch.bind(Object(p.a)(a)),a.searchResult=a.searchResult.bind(Object(p.a)(a)),a.showSearchResult=a.showSearchResult.bind(Object(p.a)(a)),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"changeState",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.value))}},{key:"startSearch",value:function(){!function(e,t){var a=new XMLHttpRequest;a.open("GET","https://fizkulturniki.site/searchData.php/?side="+e.side+"&role="+e.role+"&format="+e.format+"&skill="+e.skill),a.send(),a.onreadystatechange=function(){4===a.readyState&&200===a.status&&t(a.response)}}(this.state,this.searchResult)}},{key:"searchResult",value:function(e){e?this.setState({searchResult:JSON.parse(e)}):this.setState({searchResult:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}},{key:"showSearchResult",value:function(){return console.log(this.state.searchResult),Array.isArray(this.state.searchResult)?this.state.searchResult.map(function(e){return l.a.createElement("li",{key:e.id_vk},l.a.createElement("a",{href:"https://vk.com/id"+e.id_vk,target:"_blank"},e.first_name+" "+e.last_name))}):l.a.createElement("div",null,this.state.searchResult)}},{key:"render",value:function(){return l.a.createElement(f.Panel,{id:this.props.id},l.a.createElement(f.PanelHeader,{left:l.a.createElement(f.HeaderButton,{onClick:this.props.go,"data-to":"home"},R===f.IOS?l.a.createElement(k.a,null):l.a.createElement(b.a,null))},"\u041f\u043e\u0438\u0441\u043a"),l.a.createElement("br",null),l.a.createElement(f.Div,{style:{padding:"0px 2rem"}},l.a.createElement(f.Select,{name:"side",top:"\u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0438\u0442\u0430\u0435\u043c\u0430\u044f \u0441\u0442\u043e\u0440\u043e\u043d\u0430",placeholder:"\u043b\u044e\u0431\u043e\u0435",onChange:this.changeState},l.a.createElement("option",{value:"right"},"\u041f\u0440\u0430\u0432\u043e"),l.a.createElement("option",{value:"left"},"\u041b\u0435\u0432\u043e"),l.a.createElement("option",{value:"center"},"\u0426\u0435\u043d\u0442\u0440"))),l.a.createElement("br",null),l.a.createElement(f.Div,{style:{padding:"0px 2rem"}},l.a.createElement(f.Select,{name:"role",top:"\u0410\u043c\u043f\u043b\u0443\u0430",placeholder:"\u043b\u044e\u0431\u043e\u0435",onChange:this.changeState},l.a.createElement("option",{value:"goalkeeper"},"\u0412\u0440\u0430\u0442\u0430\u0440\u044c"),l.a.createElement("option",{value:"defender"},"\u0417\u0430\u0449\u0438\u0442\u043d\u0438\u043a"),l.a.createElement("option",{value:"semi-defender"},"\u041f\u043e\u043b\u0443\u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a"),l.a.createElement("option",{value:"forward"},"\u041d\u0430\u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0439"))),l.a.createElement("br",null),l.a.createElement(f.Div,{style:{padding:"0px 2rem"}},l.a.createElement(f.Select,{name:"format",top:"\u0424\u043e\u0440\u043c\u0430\u0442",placeholder:"\u043b\u044e\u0431\u043e\u0435",onChange:this.changeState},l.a.createElement("option",{value:"11"},"11 x 11"),l.a.createElement("option",{value:"8"},"8 x 8"),l.a.createElement("option",{value:"6"},"6 x 6"))),l.a.createElement("br",null),l.a.createElement(f.Div,{style:{padding:"0px 2rem"}},l.a.createElement(f.Select,{name:"skill",top:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u043e",placeholder:"\u043b\u044e\u0431\u043e\u0435",onChange:this.changeState},l.a.createElement("option",{value:"speed"},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"),l.a.createElement("option",{value:"phisics"},"\u0424\u0438\u0437\u0438\u043a\u0430"),l.a.createElement("option",{value:"skill"},"\u0422\u0435\u0445\u043d\u0438\u043a\u0430"),l.a.createElement("option",{value:"pass"},"\u041f\u0430\u0441"),l.a.createElement("option",{value:"power"},"\u0423\u0434\u0430\u0440"))),l.a.createElement("br",null),l.a.createElement(f.Div,null,l.a.createElement(f.Button,{size:"xl",level:"1",onClick:this.startSearch},"\u0418\u0441\u043a\u0430\u0442\u044c")),l.a.createElement(f.Div,null,l.a.createElement("ul",{style:{listStyle:"none"}},this.showSearchResult())))}}]),t}(l.a.Component),x=Object(f.platform)(),P=function(e){return l.a.createElement(f.Panel,{id:e.id},l.a.createElement(f.PanelHeader,{left:l.a.createElement(f.HeaderButton,{onClick:e.go,"data-to":"home"},x===f.IOS?l.a.createElement(k.a,null):l.a.createElement(b.a,null))},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"),l.a.createElement(f.Group,null,l.a.createElement(f.Div,null,"\u041f\u043e\u043a\u0430 \u043d\u0438\u043a\u043e\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438")))},H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.state={popout:null,activePanel:"home",fetchedUser:null,type:"football",format:"",role:"",side:"",skill:"",active:""},a.openSheet=a.openSheet.bind(Object(p.a)(a)),a.setUserData=a.setUserData.bind(Object(p.a)(a)),a.addNewUser=a.addNewUser.bind(Object(p.a)(a)),a.addNewData=a.addNewData.bind(Object(p.a)(a)),a.getUserData=a.getUserData.bind(Object(p.a)(a)),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"openSheet",value:function(e){var t=this;this.setState({popout:l.a.createElement(f.ActionSheet,{onClose:function(){return t.setState({popout:null})},title:"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f",text:"\u0421\u043e\u0433\u043b\u0430\u0448\u0430\u044f\u0441\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0432\u044b \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0430\u0448\u0438 \u043b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435: \u0438\u043d\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440, \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0433\u043e\u0440\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"},l.a.createElement(f.ActionSheetItem,{autoclose:!0,onClick:function(){return t.addNewUser(e)}},"\u0421\u043e\u0433\u043b\u0430\u0441\u0438\u0442\u044c\u0441\u044f"))})}},{key:"addNewData",value:function(e,t){t="active"===e?!this.state.active:t,this.setState(Object(i.a)({},e,t)),function(e,t,a,n){var l=new XMLHttpRequest;l.open("GET","https://fizkulturniki.site/addData.php/?id="+e+"&data="+t+"&value="+a),l.send(),l.onreadystatechange=function(){4===l.readyState&&200===l.status&&n(l.response)}}(this.state.fetchedUser.id,e,t,this.requestStatus),console.log("...data added")}},{key:"requestStatus",value:function(e){console.log("...".concat(e))}},{key:"setUserData",value:function(e){var t=JSON.parse(e);t&&this.setState({type:t[0].type,format:t[0].format,role:t[0].role,side:t[0].side,skill:t[0].skill,active:t[0].active})}},{key:"addNewUser",value:function(e){!function(e,t){var a=new XMLHttpRequest;a.open("GET","https://fizkulturniki.site/addUser.php/?id="+e.id+"&first_name="+e.first_name+"&last_name="+e.last_name+"&city="+e.city.title),a.send(),a.onreadystatechange=function(){4===a.readyState&&200===a.status&&t(a.response)}}(this.state.fetchedUser,this.requestStatus),console.log("...new user added")}},{key:"getUserData",value:function(e){!function(e,t,a){var n=new XMLHttpRequest;n.open("GET","https://fizkulturniki.site/checkUser.php/?id="+e),n.send(),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(n.response?t(n.response):a(e,n.response))}}(e,this.setUserData,this.openSheet)}},{key:"componentDidMount",value:function(){var e=this;c.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data}),e.getUserData(t.detail.data.id);break;default:console.log("Something went wrong"),e.getUserData()}}),c.a.send("VKWebAppGetUserInfo",{})}},{key:"render",value:function(){return l.a.createElement(f.View,{popout:this.state.popout,activePanel:this.state.activePanel},l.a.createElement(g,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go,userData:this.state}),l.a.createElement(D,{id:"football",go:this.go,userData:this.state,addNewData:this.addNewData}),l.a.createElement(O,{id:"hockey",go:this.go}),l.a.createElement(U,{id:"search",go:this.go}),l.a.createElement(j,{id:"sports",go:this.go}),l.a.createElement(P,{id:"searchResult",go:this.go,userData:this.state}))}}]),t}(l.a.Component);c.a.send("VKWebAppInit",{}),s.a.render(l.a.createElement(H,null),document.getElementById("root"))},63:function(e,t,a){e.exports=a(115)}},[[63,1,2]]]);
//# sourceMappingURL=main.7cbf4e4e.chunk.js.map